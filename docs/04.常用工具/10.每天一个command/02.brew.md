---
title: brew
date: 2022-11-08 11:41:08
permalink: /pages/9deb16/
categories:
  - 常用工具
  - 每天一个command
tags:
  - 
---

## 什么是Homebrew

直译：家酿啤酒

macOS自带的一种软件包管理器，由`Ruby`语言编写而成。

默认安装位置： `/usr/local/`

### 概念
- Formulae: 公式，即软件
- cask: 木桶，

## 安装和卸载

### 安装
```sh
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

### 卸载
```sh
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)"
```

## 使用

### 信息查询

```sh
# 查看版本
brew -v

# 查看已安装的软件
brew list

# 浏览器打开 Homebrew 官网
brew home

# 查看包的详细信息
brew info 包名

# 查看包的版本
brew list --versions | grep 包名

# 以树形展示所有已安装包的依赖
brew deps --installed --tree

```

### 查找软件包
```sh
brew search git

# 支持正则
brew search /^git$/

```

### 安装软件包

```sh
brew install 包名@版本
```

### 卸载软件包

```sh
brew uninstall 包名
```

### 更新自身

```sh
brew update
```

### 更新包

```sh
# 查看哪些包有新版本
brew outdated

# 更新所有包
brew upgrade

# 更新指定包
brew upgrade 包名
```

### 清理旧的升级包

::: tip
如果一个包当前有可更新的版本没有更新，执行清理时候只会提示一个警告，而不会执行清理操作。需要先升级到最新版本，再执行清理。
:::

```sh
#  查看会删除哪些软件（只是模拟删除，并不会真正的删除）
brew cleanup -n 

# 清理所有
brew cleanup 

# 清理指定包
brew cleanup 包名
```

### 锁定不想更新的包

```sh
# 锁定
brew pin 包名

# 解锁
brew unpin 包名

```

### 关联包

```sh
# 清理无效的关联，且清理与之相关的位于/Applications和~/Applications中的无用App链接
brew prune

# 将指定软件的安装文件symlink到Homebrew上
brew link 包名

```







