---
title: 开发提效想法
date: 2022-05-07 09:53:16
permalink: /pages/e2adb5/
categories:
  - 业务
tags:
  - 
---

## 日志篇

日志是排查问题的重要手段，一定要重视

- 关键节点的一定要有日志
- 日志不可打太多，太多会影响性能，但是关键数据一定要打出来
- 日志打印尽量美观，格式公正
- 格式：log.eror("111{}",a,e)


## 微服务注册

- 检查 jsf-provider 是否注册
- 检查 jsf-consumer 是否注册
- 注册中心平台上是否注册


## 报警

- 关键节点是否有报警


## 多线程

- 注意：子线程任务不try catch ，异常无法打印到日志！思考：为什么？


## 代码逻辑
- 通读代码逻辑，比一次次部署点击要效率要高的多
- 写代码之前，先把逻辑用文字描述清楚，然后用伪代码写出来，最后写实现逻辑

## mybatis 插入问题
- 为啥插入时，已经保存成功了，但是不返回插入成功条目数。 解决方案：mybatis 标签写错了，不应该用 select ，直接用 insert


结束时的ID = 1149779


896963445908109    1087207 插入dategroup 失败

901870494849036 feedback为空


ALTER TABLE `survey_plan`.`survey_task_date_group` 
MODIFY COLUMN `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'id' FIRST;

ALTER TABLE `survey_plan`.`survey_task_date_group` 
ADD UNIQUE INDEX `uniq_idx`(`task_group_id`, `group_level`) USING BTREE COMMENT '任务组和任务日期分组唯一索引';